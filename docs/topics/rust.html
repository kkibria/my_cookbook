<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust language - My software development cookbook</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">What is it?</a></li><li class="chapter-item expanded affix "><li class="part-title">3D Related</li><li class="chapter-item expanded "><a href="../topics/3d.html"><strong aria-hidden="true">1.</strong> Developing 3D models</a></li><li class="chapter-item expanded "><a href="../topics/cloth.html"><strong aria-hidden="true">2.</strong> Cloth Simulation</a></li><li class="chapter-item expanded affix "><li class="part-title">Frontend Development</li><li class="chapter-item expanded "><a href="../topics/angular.html"><strong aria-hidden="true">3.</strong> Angular, bootstrap, firebase</a></li><li class="chapter-item expanded "><a href="../topics/community.html"><strong aria-hidden="true">4.</strong> Community portal</a></li><li class="chapter-item expanded "><a href="../topics/firebase.html"><strong aria-hidden="true">5.</strong> Firebase matters</a></li><li class="chapter-item expanded "><a href="../topics/firestore.html"><strong aria-hidden="true">6.</strong> Firestore matters</a></li><li class="chapter-item expanded "><a href="../topics/flutter.html"><strong aria-hidden="true">7.</strong> Flutter Apps</a></li><li class="chapter-item expanded "><a href="../topics/flutterreading.html"><strong aria-hidden="true">8.</strong> Flutter matters</a></li><li class="chapter-item expanded "><a href="../topics/fluttersignin.html"><strong aria-hidden="true">9.</strong> Flutter Sign-in for your users</a></li><li class="chapter-item expanded "><a href="../topics/fronend.html"><strong aria-hidden="true">10.</strong> Frontend code development</a></li><li class="chapter-item expanded "><a href="../topics/markdown.html"><strong aria-hidden="true">11.</strong> Markdown renderer and editor in browser</a></li><li class="chapter-item expanded affix "><li class="part-title">Media Development</li><li class="chapter-item expanded "><a href="../topics/audio.html"><strong aria-hidden="true">12.</strong> Audio Processing</a></li><li class="chapter-item expanded "><a href="../topics/broadcasting.html"><strong aria-hidden="true">13.</strong> Broadcasting</a></li><li class="chapter-item expanded "><a href="../topics/movie.html"><strong aria-hidden="true">14.</strong> Movie production tools</a></li><li class="chapter-item expanded "><a href="../topics/music.html"><strong aria-hidden="true">15.</strong> Music</a></li><li class="chapter-item expanded "><a href="../topics/dvd2mp4.html"><strong aria-hidden="true">16.</strong> Converting old DVDs/cd into mp4/mp3</a></li><li class="chapter-item expanded affix "><li class="part-title">Programming Languages</li><li class="chapter-item expanded "><a href="../topics/go.html"><strong aria-hidden="true">17.</strong> Go language</a></li><li class="chapter-item expanded "><a href="../topics/java.html"><strong aria-hidden="true">18.</strong> Java development</a></li><li class="chapter-item expanded "><a href="../topics/java2go.html"><strong aria-hidden="true">19.</strong> Translating Java to Go language</a></li><li class="chapter-item expanded "><a href="../topics/jslib.html"><strong aria-hidden="true">20.</strong> Javascript library</a></li><li class="chapter-item expanded "><a href="../topics/py2js.html"><strong aria-hidden="true">21.</strong> Translating Python to Javascript language</a></li><li class="chapter-item expanded "><a href="../topics/rust.html" class="active"><strong aria-hidden="true">22.</strong> Rust language</a></li><li class="chapter-item expanded "><a href="../topics/sapper.html"><strong aria-hidden="true">23.</strong> Sapper, a server side framework with Svelte</a></li><li class="chapter-item expanded "><a href="../topics/ssr.html"><strong aria-hidden="true">24.</strong> Server side and/or Headless rendering</a></li><li class="chapter-item expanded "><a href="../topics/svelte.html"><strong aria-hidden="true">25.</strong> Svelte, firebase</a></li><li class="chapter-item expanded affix "><li class="part-title">Machine Learning</li><li class="chapter-item expanded "><a href="../topics/ai.html"><strong aria-hidden="true">26.</strong> Artificial Intelligence</a></li><li class="chapter-item expanded affix "><li class="part-title">System Development</li><li class="chapter-item expanded "><a href="../topics/cross.html"><strong aria-hidden="true">27.</strong> Cross Compilation</a></li><li class="chapter-item expanded "><a href="../topics/lfs.html"><strong aria-hidden="true">28.</strong> Linux from scratch (Part 1)</a></li><li class="chapter-item expanded "><a href="../topics/lfs2.html"><strong aria-hidden="true">29.</strong> Linux from scratch (Part 2)</a></li><li class="chapter-item expanded "><a href="../topics/lfs3.html"><strong aria-hidden="true">30.</strong> Linux from scratch (Part 3)</a></li><li class="chapter-item expanded "><a href="../topics/os.html"><strong aria-hidden="true">31.</strong> Custom O/S</a></li><li class="chapter-item expanded affix "><li class="part-title">Content Management</li><li class="chapter-item expanded "><a href="../topics/jekyll.html"><strong aria-hidden="true">32.</strong> Jekyll stuff</a></li><li class="chapter-item expanded "><a href="../topics/hugo.html"><strong aria-hidden="true">33.</strong> Hugo stuff</a></li><li class="chapter-item expanded "><a href="../topics/mdbook.html"><strong aria-hidden="true">34.</strong> mdbook</a></li><li class="chapter-item expanded affix "><li class="part-title">Compilers</li><li class="chapter-item expanded "><a href="../topics/parse.html"><strong aria-hidden="true">35.</strong> Compilers/Parsers</a></li><li class="chapter-item expanded "><a href="../topics/peg.html"><strong aria-hidden="true">36.</strong> Peg Parsers</a></li><li class="chapter-item expanded affix "><li class="part-title">Software Projects</li><li class="chapter-item expanded "><a href="../topics/project.html"><strong aria-hidden="true">37.</strong> How to create a new project in gitlab or github</a></li><li class="chapter-item expanded "><a href="../topics/ubuntu.html"><strong aria-hidden="true">38.</strong> Ubuntu</a></li><li class="chapter-item expanded "><a href="../topics/vscode.html"><strong aria-hidden="true">39.</strong> Using vscode</a></li><li class="chapter-item expanded "><a href="../topics/winmsi.html"><strong aria-hidden="true">40.</strong> Windows MSI installer</a></li><li class="chapter-item expanded affix "><li class="part-title">Raspberry Pi</li><li class="chapter-item expanded "><a href="../topics/pirust.html"><strong aria-hidden="true">41.</strong> Rust in Raspberry Pi</a></li><li class="chapter-item expanded "><a href="../topics/raspberrypi.html"><strong aria-hidden="true">42.</strong> Using Raspberry Pi</a></li><li class="chapter-item expanded "><a href="../topics/embedded.html"><strong aria-hidden="true">43.</strong> Building Embedded System</a></li><li class="chapter-item expanded affix "><li class="part-title">Future</li><li class="chapter-item expanded "><a href="../topics/inspiration.html"><strong aria-hidden="true">44.</strong> Inspiration and plans</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">My software development cookbook</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="rust-language"><a class="header" href="#rust-language">Rust language</a></h1>
<h2 id="learning-rust"><a class="header" href="#learning-rust">Learning rust</a></h2>
<ul>
<li><a href="https://doc.rust-lang.org/book/">The rust book</a>. Expand the TOC by pressing the menu icon on the top left of the page.</li>
<li><a href="https://www.youtube.com/playlist?list=PLai5B987bZ9CoVR-QEIN9foz4QCJ0H2Y8">The Rust Lang Book</a>.
I like this video series, watch along with the rust book.</li>
<li><a href="https://youtu.be/A3AdN7U24iU">Rust: A Language for the Next 40 Years - Carol Nichols</a>.</li>
<li><a href="https://youtu.be/SKGVItFlK3w">Rust Out Your C by Carol</a>. The <a href="https://github.com/carols10cents/rust-out-your-c-talk">Slides</a>.</li>
<li><a href="https://youtu.be/SZvs15hC81U">Stanford Seminar The Rust Programming Language - The Best Documentary Ever</a></li>
<li><a href="https://youtu.be/grU-4u0Okto">Traits and You: A Deep Dive — Nell Shamrell-Harrington</a>.</li>
<li><a href="https://youtu.be/LKYSl7kM5q8">Let's Learn Rust: Structs and Traits</a></li>
<li><a href="https://tourofrust.com">https://tourofrust.com</a></li>
</ul>
<h2 id="rust-libraries"><a class="header" href="#rust-libraries">rust libraries</a></h2>
<ul>
<li><a href="https://crates.io/">https://crates.io/</a></li>
</ul>
<h2 id="desktop-app-with-rust"><a class="header" href="#desktop-app-with-rust">desktop app with rust</a></h2>
<ul>
<li><a href="https://tauri.studio">https://tauri.studio</a>
Most practical application pattern is what they call lockdown pattern (event api) added with rust command api.</li>
<li><a href="https://tauri.studio/en/docs/guides/command">https://tauri.studio/en/docs/guides/command</a></li>
<li><a href="https://tauri.studio/en/docs/guides/events">https://tauri.studio/en/docs/guides/events</a></li>
</ul>
<h2 id="creating-books"><a class="header" href="#creating-books">creating books</a></h2>
<ul>
<li><a href="https://github.com/rust-lang/mdBook">https://github.com/rust-lang/mdBook</a></li>
</ul>
<h2 id="using-rust-in-raspberry-pi"><a class="header" href="#using-rust-in-raspberry-pi">Using rust in Raspberry pi</a></h2>
<ul>
<li><a href="https://www.makeuseof.com/tag/getting-started-rust-raspberry-pi/">How to Get Started With Rust on Raspberry Pi</a></li>
<li><a href="https://opensource.com/article/19/3/physical-computing-rust-raspberry-pi">Program the real world using Rust on Raspberry Pi</a></li>
<li><a href="https://dev.to/h_ajsf/cross-compiling-rust-for-raspberry-pi-4iai">Cross compiling Rust for Raspberry Pi</a></li>
<li><a href="https://chacin.dev/blog/cross-compiling-rust-for-the-raspberry-pi/">Cross Compiling Rust for the Raspberry Pi</a></li>
<li><a href="https://www.raspberrypi.org/forums/viewtopic.php?t=233928">Anyone using Rust on a PI?</a></li>
<li><a href="https://docs.rust-embedded.org/book/">Learn to write an embedded OS in Rust</a>, <a href="https://github.com/rust-embedded">github</a>, <a href="https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials">tutorials</a>.</li>
<li><a href="https://gnutoolchains.com/raspberry/">Prebuilt Windows Toolchain for Raspberry Pi</a>. Question: who are these people? Where are the sources for these tools?</li>
<li><a href="https://medium.com/@wizofe/cross-compiling-rust-for-arm-e-g-raspberry-pi-using-any-os-11711ebfc52b">Cross compiling Rust for ARM (e.g. Raspberry Pi) using any OS!</a></li>
<li><a href="https://github.com/rust-embedded/cross">“Zero setup” cross compilation and “cross testing” of Rust crates</a></li>
<li><a href="https://www.vagrantup.com/">Vagrant, Virtual machine for cross development</a>. I really like this setup, easy to use. Plays well with virtualbox.</li>
<li><a href="https://github.com/kunerd/clerk/wiki/How-to-use-HD44780-LCD-from-Rust#setting-up-the-cross-toolchain">https://github.com/kunerd/clerk/wiki/How-to-use-HD44780-LCD-from-Rust#setting-up-the-cross-toolchain</a></li>
<li><a href="https://opensource.com/article/19/3/physical-computing-rust-raspberry-pi">https://opensource.com/article/19/3/physical-computing-rust-raspberry-pi</a></li>
<li><a href="https://github.com/japaric/rust-cross">https://github.com/japaric/rust-cross</a></li>
</ul>
<h2 id="rust-gpio-for-pi"><a class="header" href="#rust-gpio-for-pi">rust GPIO for pi</a></h2>
<ul>
<li>May be a kernel module with rust?? Some <a href="rust#Linux-kernel-module-with-rust">work</a> is ongoing.</li>
<li><a href="https://github.com/golemparts/rppal">RPPAL</a>.</li>
<li><a href="https://github.com/rust-embedded/rust-sysfs-gpio">https://github.com/rust-embedded/rust-sysfs-gpio</a>.</li>
</ul>
<p>Most promising seems to be <a href="https://github.com/golemparts/rppal">RPPAL</a> option.</p>
<blockquote>
<p>I will try this option and do the write up on this.</p>
</blockquote>
<h2 id="cross-compiling-rust-on-ubuntu"><a class="header" href="#cross-compiling-rust-on-ubuntu">Cross compiling rust on ubuntu</a></h2>
<p>Compiling rust on pi will take for ever, cross compiling will save development time. We will use ubuntu for cross compile.</p>
<p>If we are on a windows machine, WSL2 also is a good way to develop for raspberry. check <a href="https://www.youtube.com/watch?v=_fntjriRe48">WSL 2: Getting started</a>. Go ahead install ubuntu to run with WSL2.</p>
<p>Primary problem with cross compiling rust for pi zero is that zero is armv6 but other pis are armv7. At the time of this writing, gcc toolchain only has support for armv7. armv6 compile also produces armv7 image. So the toolchain needs to be installed from pi official tool repo from github which has armv6 support. See more in the following links,</p>
<ul>
<li><a href="https://github.com/rust-embedded/cross/issues/426">https://github.com/rust-embedded/cross/issues/426</a></li>
<li><a href="https://github.com/japaric/rust-cross/issues/42">https://github.com/japaric/rust-cross/issues/42</a></li>
<li><a href="https://hub.docker.com/r/mdirkse/rust_armv6">https://hub.docker.com/r/mdirkse/rust_armv6</a></li>
</ul>
<p>Using this strategy we will go ahead and setup wsl2 linux detailed in <a href="pirust">Rust in Raspberry Pi</a>.</p>
<h3 id="qemu-for-library-dependencies"><a class="header" href="#qemu-for-library-dependencies">QEMU for library dependencies</a></h3>
<ul>
<li><a href="http://linux-sunxi.org/Debootstrap">Debootstrap</a></li>
<li><a href="http://logan.tw/posts/2017/01/21/introduction-to-qemu-debootstrap/">Introduction to qemu-debootstrap</a>.</li>
<li><a href="https://headmelted.com/using-qemu-to-produce-debian-filesystems-for-multiple-architectures-280df41d28eb">https://headmelted.com/using-qemu-to-produce-debian-filesystems-for-multiple-architectures-280df41d28eb</a>.</li>
<li><a href="https://youtu.be/PBY9l97-lto">Kernel Recipes 2015 - Speed up your kernel development cycle with QEMU - Stefan Hajnoczi</a>.</li>
<li><a href="https://youtu.be/L_r3z3402do">Debootstrap #1 Creating a Filesystem for Debian install Linux tutorial</a>.</li>
<li><a href="https://youtu.be/OLFH4Ov6bJQ">Creating Ubuntu and Debian container base images, the old and simple way</a>.</li>
<li><a href="https://youtu.be/xiQX0YXYuqU">Raspberry Pi Emulator for Windows 10 Full Setup Tutorial and Speed Optimization</a>.</li>
<li><a href="https://azeria-labs.com/emulate-raspberry-pi-with-qemu/">RASPBERRY PI ON QEMU</a>.</li>
</ul>
<h2 id="linux-kernel-module-with-rust"><a class="header" href="#linux-kernel-module-with-rust">Linux kernel module with rust</a></h2>
<ul>
<li><a href="https://github.com/fishinabarrel/linux-kernel-module-rust">https://github.com/fishinabarrel/linux-kernel-module-rust</a></li>
</ul>
<h2 id="rust-wasm"><a class="header" href="#rust-wasm">rust-wasm</a></h2>
<ul>
<li><a href="https://rustwasm.github.io/">https://rustwasm.github.io/</a></li>
<li><a href="https://rustwasm.github.io/docs/book/">book</a></li>
<li><a href="https://youtu.be/ohuTy8MmbLc">Rust in the Browser for JavaScripters: New Frontiers, New Possibilities</a></li>
</ul>
<h2 id="java-to-rust"><a class="header" href="#java-to-rust">java to rust</a></h2>
<ul>
<li><a href="https://github.com/aschoerk/converter-page">java to rust</a></li>
<li><a href="https://jrconverter.appspot.com/index.jsp">online converter</a></li>
</ul>
<h2 id="python-to-rust"><a class="header" href="#python-to-rust">python to rust</a></h2>
<ul>
<li><a href="https://alantrick.ca/writings/programming/python_to_rust">Converting a Python library to Rust</a>. <a href="https://gitlab.com/alantrick/august-python-old/">Python</a> and <a href="https://gitlab.com/alantrick/august/">Rust</a>.</li>
<li><a href="https://medium.com/@konchunas/transpiling-python-to-rust-766459b6ab8f">Transpiling Python to Rust</a>, <a href="https://github.com/konchunas/pyrs">github</a>.</li>
</ul>
<h1 id="using-dbus-in-rust"><a class="header" href="#using-dbus-in-rust">using dbus in rust</a></h1>
<ul>
<li><a href="https://github.com/diwic/dbus-rs">https://github.com/diwic/dbus-rs</a> dbus crate.</li>
<li><a href="https://github.com/diwic/dbus-rs/issues/214">https://github.com/diwic/dbus-rs/issues/214</a> Simple dbus-codegen example.</li>
<li><a href="https://github.com/deifactor/ninomiya">https://github.com/deifactor/ninomiya</a></li>
<li><a href="https://github.com/diwic/dbus-rs/blob/master/dbus-codegen/examples/adv_server_codegen.rs">https://github.com/diwic/dbus-rs/blob/master/dbus-codegen/examples/adv_server_codegen.rs</a> server example.</li>
<li><a href="https://github.com/diwic/dbus-rs/blob/master/dbus/examples/match_signal.rs">https://github.com/diwic/dbus-rs/blob/master/dbus/examples/match_signal.rs</a> client example using dbus-codegen-rust.</li>
<li><a href="https://github.com/kkibria/rustdbuscross">https://github.com/kkibria/rustdbuscross</a></li>
</ul>
<pre><code>pi dbus
$ dpkg -l | grep dbus
ii  dbus                1.12.16-1 armhf  simple  interprocess messaging system (daemon and utilities)
ii  libdbus-1-3:armhf   1.12.16-1 armhf  simple  interprocess messaging system (library)
ii  libdbus-1-dev:armhf 1.12.16-1 armhf  simple  interprocess messaging system (development headers)
ii  python-dbus         1.2.8-3   armhf  simple  interprocess messaging system (Python interface)
ii  python3-dbus        1.2.8-3   armhf  simple  interprocess messaging system (Python 3 interface)
</code></pre>
<h2 id="install-dbus-codegen-rust"><a class="header" href="#install-dbus-codegen-rust">install dbus-codegen-rust</a></h2>
<p>following will install dbus-codegen-rust CLI.</p>
<pre><code class="language-bash">cargo install dbus-codegen
</code></pre>
<p>There are two possibilities</p>
<ul>
<li>Write server and client.</li>
<li>Write client for an exiting installed server.</li>
</ul>
<h2 id="client-for-an-exiting-server"><a class="header" href="#client-for-an-exiting-server">Client for an exiting server</a></h2>
<p>example of generated code,</p>
<pre><code>dbus-codegen-rust -s -d org.freedesktop.timedate1 -p /org/freedesktop/timedate1 -o src/timedate.rs -i org.freedesktop
</code></pre>
<p>which will put the code in <code>src</code> folder.</p>
<h2 id="cross-compile-dbus"><a class="header" href="#cross-compile-dbus">cross compile dbus</a></h2>
<ul>
<li><a href="https://github.com/diwic/dbus-rs/blob/master/libdbus-sys/cross_compile.md">https://github.com/diwic/dbus-rs/blob/master/libdbus-sys/cross_compile.md</a></li>
<li><a href="https://serverfault.com/questions/892465/starting-systemd-services-sharing-a-session-d-bus-on-headless-system">https://serverfault.com/questions/892465/starting-systemd-services-sharing-a-session-d-bus-on-headless-system</a> headless dbus.</li>
<li><a href="https://raspberrypi.stackexchange.com/questions/114739/how-to-install-pi-libraries-to-cross-compile-for-pi-zero-in-wsl2">https://raspberrypi.stackexchange.com/questions/114739/how-to-install-pi-libraries-to-cross-compile-for-pi-zero-in-wsl2</a>.</li>
</ul>
<p>The following script downloads and cross-compiles D-Bus and Expat for Raspberry Pi zero: </p>
<pre><code class="language-sh">#!/usr/bin/env bash

set -ex

# Clone the D-bus and Expat libraries
[ -d dbus ] || \
    git clone --branch dbus-1.13.18 --single-branch --depth=1 \
        https://gitlab.freedesktop.org/dbus/dbus.git

[ -d libexpat ] || \
    git clone --branch R_2_2_9 --single-branch --depth=1 \
    https://github.com/libexpat/libexpat.git

# Script for building these libraries:
cat &lt;&lt; 'EOF' &gt; build-script-docker.sh
#!/usr/bin/env bash

set -ex
cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot;

# Point pkg-config to the sysroot:
. cross-pkg-config

# Directory to install the packages to:
export RPI_STAGING=&quot;$PWD/staging&quot;
rm -rf &quot;${RPI_STAGING}&quot;

# libexpat
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

pushd libexpat/expat
./buildconf.sh
mkdir -p build
pushd build
../configure \
    --prefix=&quot;/usr/local&quot; \
    --host=&quot;${HOST_TRIPLE}&quot; \
    --with-sysroot=&quot;${RPI_SYSROOT}&quot;
make -j$(nproc)
make install DESTDIR=&quot;${RPI_SYSROOT}&quot;
make install DESTDIR=&quot;${RPI_STAGING}&quot;
popd
popd

# dbus
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

pushd dbus
mkdir -p build
pushd build
cmake .. \
    -DCMAKE_TOOLCHAIN_FILE=&quot;$HOME/${HOST_TRIPLE}.cmake&quot; \
    -DCMAKE_BUILD_TYPE=&quot;Release&quot; \
    -DCMAKE_INSTALL_PREFIX=&quot;/usr/local&quot;
make -j$(nproc)
make install DESTDIR=&quot;${RPI_SYSROOT}&quot;
make install DESTDIR=&quot;${RPI_STAGING}&quot;
popd
popd
EOF

# Start the Docker container with the toolchain and run the build script:
image=&quot;tttapa/rpi-cross:armv6-rpi-linux-gnueabihf-dev&quot;
docker run --rm -it -v &quot;$PWD:/tmp/workdir&quot; $image \
    bash &quot;/tmp/workdir/build-script-docker.sh&quot;

</code></pre>
<p>You'll need to have Docker installed. When finished, the libraries will be in the <code>staging</code> folder in the working directory.</p>
<p>The Docker container with the toolchain is one I maintain (https://github.com/tttapa/RPi-Cpp-Toolchain), but the installation process should be similar with the toolchain you're using, you'll just have to install some extra dependencies such as make, autotools, and maybe cross-compile some other dependencies of Expat and D-Bus as well.<br />
I also maintain some notes with instructions of the toolchains and cross-compilation processes, which you might find useful: https://tttapa.github.io/Pages/Raspberry-Pi/C++-Development/index.html</p>
<p>You might want to add some extra options to the configure and cmake steps, but that's outside of the scope of this answer, see the relevant D-Bus documentation.<br />
Also note that installs both libraries to both the sysroot and the staging area, it'll depend on what you want to do with it. You have to install at least <code>libexpat</code> to the <code>${RPI_SYSROOT}</code> folder, because that's the folder used as the sysroot for compiling <code>dbus</code> which depends on <code>libexpat</code>. The sysroot folder for the compilation of <code>dbus</code> is selected in the CMake Toolchain file, <code>~/${HOST_TRIPLE}.cmake</code>, it's included with the Docker container. Its contents are:</p>
<pre><code class="language-cmake">SET(CMAKE_SYSTEM_NAME Linux)
SET(CMAKE_C_COMPILER armv6-rpi-linux-gnueabihf-gcc)
SET(CMAKE_CXX_COMPILER armv6-rpi-linux-gnueabihf-g++)
SET(CMAKE_SYSTEM_PROCESSOR armv6)

set(CMAKE_SYSROOT $ENV{RPI_SYSROOT})
SET(CMAKE_FIND_ROOT_PATH ${CMAKE_SYSROOT}) 

set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)
</code></pre>
<p>You might also have to point <code>pkg-config</code> to the right sysroot folder. This is handled by the <code>cross-pkg-config</code> script:</p>
<pre><code class="language-sh">export PKG_CONFIG_LIBDIR=&quot;${RPI_SYSROOT}/usr/local/lib:${RPI_SYSROOT}/opt/vc/lib&quot;
export PKG_CONFIG_PATH=&quot;${RPI_SYSROOT}/usr/local/lib/pkgconfig:${RPI_SYSROOT}/usr/local/share/pkgconfig:${RPI_SYSROOT}/opt/vc/lib/pkgconfig&quot;
export PKG_CONFIG_SYSROOT_DIR=&quot;${RPI_SYSROOT}&quot;
</code></pre>
<h2 id="rust-qt-binding"><a class="header" href="#rust-qt-binding">Rust Qt binding</a></h2>
<ul>
<li><a href="https://youtu.be/McgwDB13igo">https://youtu.be/McgwDB13igo</a>, github <a href="https://github.com/KDE/rust-qt-binding-generator">https://github.com/KDE/rust-qt-binding-generator</a></li>
</ul>
<h2 id="using-rust-with-vscode-in-windows"><a class="header" href="#using-rust-with-vscode-in-windows">using rust with vscode in windows</a></h2>
<p>If you are using powershell in vscode, the path might not pickup rust compiler.
Read <a href="vscode#powershell-setup">Powershell setup</a> for vscode for more information.</p>
<p>Place <code>.psrc.ps1</code> file at the root of the project folder with following, which is the default
path of rust install.</p>
<pre><code>$env:Path += &quot;;$profile/.cargo/bin&quot;
</code></pre>
<p>If you installed rust to a custom path, use that path instead.</p>
<h3 id="videos-to-watch"><a class="header" href="#videos-to-watch">Videos to watch:</a></h3>
<ul>
<li><a href="https://youtu.be/x_iZEK6Rww4">IDE Setup For Rust Development</a></li>
<li><a href="https://youtu.be/aYsUBddY7KY">Getting Started with Rust on Windows and Visual Studio Code</a></li>
</ul>
<h2 id="debugging-rust-with-vscode-in-windows"><a class="header" href="#debugging-rust-with-vscode-in-windows">debugging rust with vscode in windows</a></h2>
<ul>
<li><a href="https://www.brycevandyk.com/debug-rust-on-windows-with-visual-studio-code-and-the-msvc-debugger/">https://www.brycevandyk.com/debug-rust-on-windows-with-visual-studio-code-and-the-msvc-debugger/</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../topics/py2js.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../topics/sapper.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../topics/py2js.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../topics/sapper.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
